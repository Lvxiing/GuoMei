<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html">


    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="applicable-device" content="pc">
    <meta name="keyword" content="">
    <meta name="description" content="">
    <title>我的购物车_国美</title>


    <link rel="canonical" href="https://www.gome.com.cn/">
    <link rel="alternate" media="only screen and(max-width: 640px)" href="https://www.gome.com.cn/">


    <script type="text/javascript">var gfeJsCdn = "//js.gomein.net.cn", gfeCssCdn = "//css.gomein.net.cn",
        gfeProjectPath = "/gmpro/2.0.0/cart/2.9.5";</script>
    <link rel="stylesheet" href="css/201908211807.css">
    <link rel="stylesheet" href="css/css6.css">


    <script src="js/jquery-1.8.3.js"></script>
    <script src="layui/layui.js"></script>
    <link rel="stylesheet" href="layui/css/layui.css">



</head>
<body class="w990">
<!-- 返利的导航 -->
<!--头部end--><!--newads-->
<!--newads-->
<div class="gome-top">
    <script>
        $(function () {
            //加载公共头部
            $(".gome-top").load("gome-top.html");
        })
    </script>
</div>
<!--gome_top-->
<div id="gome-head" class="wbox">
    <div id="logo"><a data-code="public03001" href="javascript:;">国美</a></div>
    <div id="head-title"></div>
    <div id="head-box"></div>
</div>
<!--gome_head -->
<!--head-->

<div class="cart-lists">
    <!--空购物车-->
  <!--
    <div class="container">
        <div class="cart-empty-wrap">
            <div class="icons c-i cart-empty"></div>
            <div class="cart-empty-text"> 购物车内暂无商品哦<br>
                <div style="margin-top:8px;">
                    <div class="cart-login-tip fl hide" id="idtruelogin" style="padding:0 15px 0 0;"
                         act-not-login-info=""></div>
                    <a href="index.html" style="line-height:29px;">挑选商品<span class="cartjt">&gt;</span></a></div>
            </div>
        </div>
    </div>
   -->

    <div class="container">
        <div class="cart-main-header clearfix">
            <div class="cart-col-1 pr">



                <div act-check-all-items="" gui-checkbox="" gui-class-unchecked="good-checkboxs-no"
                     gui-class-checked="c-i checkbox_chose" gui-class-disabled="no_check" style="margin-top: 16px;"
                     class="good-checkboxs-no" name="allCheckDiv">
                    <input type="checkbox" name="allCheck"></div>
            </div>



            <div class="cart-col-2"> 全选</div>
            <div style="width:389px;" class="cart-col-3"> 商品信息</div>
            <div class="cart-col-4">
                <div class="cart-good-real-price">单价</div>
            </div>
            <div class="cart-col-5 text-left"> 数量</div>
            <div class="cart-col-6">
                <div class="cart-good-amount">小计</div>
            </div>
            <div class="cart-col-7"> 操作</div>
        </div>
    </div>
    <div class="container" act-list="" id="container">


        </div>
    </div>

    <div class="cart-bottom-wrap">
        <div class="cart-bottom-info ">
            <div class="container" style="position:relative">

                <div class="cart-col-2">  <a href="javascript:" act-batch-remove-item="" class="black del-goods"
                                                data-save="true" style="color: #e3101e;" name="delManyChecked">删除所选</a></div>
                <div class="cart-col-3 mlf14"></div>
                <div class="cart-col-4 cart-totle-price  pl84 ">
                    <div g-hoverup-obj="" class="cart-bottom-selectgood"> 已选 <span
                            class="cart-price-red selected-price">      <span name="sumNum">0</span>         </span> 件商品 </div>
                    <div class="bottom-total-pirce">
                        <dl>
                            <dt> 总计（不含运费）：</dt>
                            <dd class="cart-price-red ffyh" style="font-size:18px;font-weight:900;">￥<span name="sumPrice">0.00</span></dd>
                        </dl>
                    </div>
                </div>
                <div class="cart-col-5"><a href="javascript:" act-init-order="" class="order-btn" name="toBuy"> <span
                        class="btn-normal" >去结算<em class="c-i arrowRight-white"></em></span>
                </a></div>
            </div>
        </div>
    </div>
</div>







<script >

    layui.use(['layer','upload','form'], function() {
        var layer = layui.layer,  //弹层
            $ = layui.jquery;

    //显示我的购物车里的商品
   function  show(){

$.getJSON("/cart/cartAllGoodsByUserId",function (json) {
    $("#container>div").remove();
    //购物车内暂无商品
    if (json.length==0){
        var empty='<div class="cart-empty-wrap"> <div class="icons c-i cart-empty"></div> <div class="cart-empty-text"> 购物车内暂无商品哦<br> <div style="margin-top:8px;"> <div class="cart-login-tip fl hide" id="idtruelogin" style="padding:0 15px 0 0;" act-not-login-info=""></div>  <a href="index.html" style="line-height:29px;">挑选商品<span class="cartjt">&gt;</span></a></div> </div> </div>';
        $("#container").append(empty);
    } else{
    for (var i = 0; i < json.length; i++){
        var div='<div class="cart-shop-goods cart-shop-goods-normal" style="margin-top: 10px;" name="goodDiv"> <div class="cart-shop-good                        clearfix            cart-shop-good-common                        cart-item-last           " data-good="true" data-sid="pop8012883715" data-pid="A0006581765" bigdata-pid="A0006581765" >                      <div class="cart-col-1                border-top         ">            <div act-check-item="" gui-checkbox="" gui-class-unchecked="good-checkboxs-no" gui-class-checked="c-i checkbox_chose" gui-class-disabled="no_check" data-cid="5504926502" class="good-checkboxs-no" name="goodCheckDiv">      <input type="checkbox" name="good" path="0.commerceItemsGroups.0.commerceItemsGroup.0" value="5504926502" data-save="true" >     </div>          </div> <div class="cart-col-2" style="height: 82px;">  <p name="goodsId" style="display:none;"  help="'+json[i].goodsId+'"  >'+json[i].goodsId+'</p>  <a href="product_details.html?gid='+json[i].goodsId+'" target="_blank" class="g-img">        <img src="'+json[i].goodsMainImg+'" alt="">           </a>  </div>  <div class="fl">   <div class="clearfix">    <div style="" class="cart-col-3">     <div class="cart-good-name">            <a href="product_details.html?gid='+json[i].goodsId+'" target="_blank" title="'+json[i].goodsTitle+'">                     '+json[i].goodsTitle+'  </a>     </div>     <div class="support-server clearfix">                        </div>                      </div>                      <div class="cart-col-8">                      </div>                 <div class="cart-col-4 cart-price-height47">     <div class="cart-good-real-price ">                ¥&nbsp;   <span name="price">'+json[i].goodsPrice+'.00  </span>                        </div>  <div class="red" name="vipPrice">   </div>  </div>   <div class="cart-col-5">                                                                <div gui-count="" click-document-pre="" gui-count-min="1" gui-count-animate="1" gui-count-change-interval="1000" act-change-count="" data-cid="5505891616" data-limit="99" data-sku="pop8012883715" class="gui-count cart-count" data-limit-pop8012883715-a0006581765="99">                                            <a href="javascript:;" gui-count-sub="" class="gui-count-btn gui-count-sub" name="sub">-</a><a href="javascript:;" gui-count-add="" class="gui-count-btn gui-count-add" name="add">+</a><div class="gui-count-input"><input dytest="" class="dytest " type="text" value="'+json[i].cartNum+'" name="num"></div></div>                                                                                                                                                                                                             </div>  <div class="cart-col-6 ">      <div class="cart-good-amount">    ¥&nbsp;<span name="totalPrice" >'+json[i].cartTotal+'.00</span>      </div>         </div>  </div>  <div class="cart-good-box">         &nbsp;         </div>  </div>  <div class="cart-col-7">       <div class="cart-good-fun delfixed">     <a href="javascript:;" act-remove-item="" path="3.commerceItemsGroups.0.commerceItemsGroup.0" data-sku="pop8012883715" data-save="true" name="del" style="color: #e3101e;">     删除     </a>    </div>              <div class="cart-good-fun">     <a href="javascript:" act-add-wishlist="" path="3.commerceItemsGroups.0.commerceItemsGroup.0" name="toCollect">      移入收藏夹</a>    </div>               </div>          </div></div>';
        $("#container").append(div);


        //判断是否是会员价商品
        $.ajax({
            type : "POST",
            async : false,
            url : "/cart/ifVipGoods/"+json[i].goodsId,
            dataType : "json",
            success : function(result) {
if (result!=null) {
        $("[help="+result.goodsId+"]").parents("[name=goodDiv]").find("[name='vipPrice']").text("会员价");
}
}
});




}
}
});

}

$(function(){

//一加载就显示
show();

//点击"全选"checkbox
$("input[name=allCheck]").click(function(){
if($("input[name=allCheck]").get(0).checked){   //全选
    $("[name=goodDiv]").each(function(i,item){
        $(item).find("input[name='good']").get(0).checked=true;
    });
}else{             //取消全选
    $("[name=goodDiv]").each(function(i,item){
        $(item).find("input[name='good']").get(0).checked=false;
    });
}
getSum();
});

//点击每个商品前的checkbox
$("#container").on("click","input[name='good']",function(){
var length=$("[name=goodDiv]  input[name='good']").length;
var checkl=$("[name=goodDiv]  input[name='good']:checked").length;
//如果所有商品前的checkbox都被选中,则"全选"checkbox被选中
//如果有一个商品前的checkbox取消了选中,则"全选"checkbox也取消选中
if(length==checkl){
    $("input[name=allCheck]").get(0).checked=true;
}else{
    $("input[name=allCheck]").get(0).checked=false;
}
getSum();
});

//点击"-",减少购买数量
$("#container").on("click","[name=sub]",function(){
var count=$(this).next().next().find("[name=num]").val();
//购买数量已是1时,则不能再减少
if(count==1){
    $(this).attr("class","gui-count-btn gui-count-sub gui-count-disabled");
    return false;
}
count=parseInt(count)-1;
$(this).next().next().find("[name=num]").val(count);
getSum();
var price= $(this).parents("[name=goodDiv]").find("[name=price]").text();
var totalPrice=count*price;
$(this).parents("[name=goodDiv]").find("[name=totalPrice]").text(totalPrice+".00");

});

//点击"+",增加购买数量
$("#container").on("click","[name=add]",function(){
$(this).prev().attr("class","gui-count-btn gui-count-sub");
var count=$(this).next().find("[name=num]").val();
count=parseInt(count)+1;
$(this).next().find("[name=num]").val(count);
getSum();
var price= $(this).parents("[name=goodDiv]").find("[name=price]").text();
var totalPrice=count*price;
$(this).parents("[name=goodDiv]").find("[name=totalPrice]").text(totalPrice+".00");

});

//购买数量的文本框绑定失去焦点事件
$("#container").on("click","input[name='num']",function(){
//如果输入的购买数量少于1,则自动默认为1
if($(this).val()<1){
    $(this).val("1");
}
//如果输入的购买数量不是数字,则自动默认为1
if(isNaN($(this).val())){
    $(this).val("1");
}
getSum();
});

//点击"结算商品"
$("[name=toBuy]").click(function(){
var checkLength=$("[name=goodDiv]  input[name='good']:checked").length;
if(checkLength>=1){
    toBuy();
}
else{
    layer.msg("你还没有选择商品哦");
}
});

//调用计算商品合计总价钱的函数
getSum();

//把checkbox选中的商品结算掉,没选中的则继续留在购物车里不结算
function  toBuy(){
var goodsId=new Array();
$("[name=goodDiv]  input[name='good']:checked").each(function(i,item){
    goodsId.push(parseInt($(this).parents("[name=goodDiv]").find("[name='goodsId']").text()));
});
var num=new Array();
$("[name=goodDiv]  input[name='good']:checked").each(function(){
    //购买数量
    num.push(parseInt($(this).parents("[name=goodDiv]").find("input[name='num']").val()));
});

    location.href="order_info.html?goodsId="+goodsId+"&num="+num;
}

//单个删除我的购物车中的商品
$("#container").on("click","[name='del']",function () {
var goodsId= $(this).parents("[name=goodDiv]").find("[name='goodsId']").text();
var delThis=$(this);
layer.confirm('真的删除行么?', function(){
    $.getJSON("/cart/delCartGood/"+goodsId,function(result){
        if (result==true){
            layer.msg("删除成功");
            delThis.parents("[name=goodDiv]").remove();
        } else{
            layer.msg("删除失败,请重试");
        }
        show();
        getSum();
    })
});
});

//删除所选
$("[name=delManyChecked]").click(function(){
    var checkLength=$("[name=goodDiv]  input[name='good']:checked").length;
    if(checkLength>=1){
        layer.confirm('真的删除行么?', function(){
            $("[name=goodDiv]  input[name='good']:checked").each(function(i,item){
                var goodsId=$(this).parents("[name=goodDiv]").find("[name='goodsId']").text()  ;
                $.getJSON("/cart/delCartGood/"+goodsId,function(result){
                        $(item).parents("[name=goodDiv]").remove();
                    show();
                    getSum();
                })
            });
            layer.msg("删除成功");
        });
    }else{
        layer.msg("你还没有选择商品哦");
    }
});

//移入收藏夹
$("#container").on("click","[name=toCollect]",function () {
    var goodsId= $(this).parents("[name=goodDiv]").find("[name='goodsId']").text();
    layer.confirm('移入收藏夹后该商品只在收藏夹内显示了哦', function(){
        $.getJSON("/cart/findIfCollected/"+goodsId,function (json) {
            if (json !=null){
                layer.msg("你的收藏夹中已有此商品");
            }else{
                $.getJSON("/cart/saveCollection/"+goodsId,function (result) {
                    if (result ==true){
                        layer.msg("移入收藏夹成功");
                        $(this).parents("[name=goodDiv]").remove();
                    } else {
                        layer.msg("移入收藏夹失败");
                    }
                    show();
                    getSum();
                });
            }
        })
    });

});





})

});



//商品合计
function getSum(){
var sumPrice=0;
var sumNum=0;
$("[name=goodDiv]  input[name='good']:checked").each(function(){
//购买数量
var num=$(this).parents("[name=goodDiv]").find("input[name='num']").val();
//商品单价
var  price=$(this).parents("[name=goodDiv]").find("[name=price]").text();
//合计
sumPrice+=num*price;
sumNum+=parseInt(num);
});
$("[name=sumPrice]").text(sumPrice+".00");
$("[name=sumNum]").text(sumNum);
}

</script>













<div id="gome-foot">
    <div id="gome-foot-box">
        <ul class="foot_small_zdy_w">
            <li><a data-code="1000043124-0" href="javascript:;" target="_blank" rel="nofollow">国美集团</a></li>
            <li><a data-code="1000043124-1" href="javascript:;" target="_blank">国美管家</a></li>
            <li><a data-code="1000043124-2" href="javascript:;" target="_blank">关于国美</a></li>
            <li><a data-code="1000043124-3" href="javascript:;" target="_blank">加入我们</a></li>
            <li>|</li>
            <li><a data-code="1000043124-4" href="javascript:;" target="_blank">品牌大全</a></li>
            <li><a data-code="1000043124-5" href="javascript:;" target="_blank">商品专题</a></li>
            <li><a data-code="1000043124-6" href="javascript:;" target="_blank">商品词</a></li>
            <li><a data-code="1000043124-7" href="javascript:;" target="_blank">热词搜索</a></li>
            <li><a data-code="1000043124-8" href="javascript:;" target="_blank">友情链接</a></li>
            <li><a data-code="1000043124-9" href="javascript:;" target="_blank">风险监测</a></li>
            <li>|</li>
            <li><a data-code="1000043124-10" href="javascript:;" target="_blank">销售联盟</a></li>
            <li><a data-code="1000043124-11" href="javascript:;" target="_blank">商家入驻</a></li>
            <li><a data-code="1000043124-12" href="javascript:;" target="_blank">广告营销</a></li>
        </ul>
        <p>本公司游戏产品适合18岁以上成年人使用&nbsp;&nbsp;违法和不良信息举报电话：021-39900132&nbsp;&nbsp;<a class="interDrug" href="javascript:;"
                                                                                 target="_blank">互联网药品信息服务资格证编号（沪）-经营性-2019-0006</a>
        </p>
        <p>网络食品销售第三方平台提供者备案：沪网食备A0015号&nbsp;&nbsp;<a class="interDrug" href="javascript:;" target="_blank">网络文化经营许可证沪网文[2017]5537-436号</a>&nbsp;&nbsp;<a
                class="interDrug" href="javascript:;" target="_blank">增值电信业务经营许可证</a></p>
        <p>客服电话:4008113333&nbsp;&nbsp;<a class="interDrug" href="javascript:;" target="_blank">沪ICP备11009419号/京ICP备
            19011786号</a>&nbsp;&nbsp;<a class="interDrug" href="javascript:;" target="_blank">京B2-20191290</a>&nbsp;&nbsp;<a
                class="interDrug" href="javascript:;" target="_blank">经营执照</a>&nbsp;&nbsp;<a class="interDrug"
                                                                                             href="javascript:;"
                                                                                             target="_blank">营业执照</a>&nbsp;&nbsp;<a
                class="interDrug" href="javascript:;" target="_blank">出版物经营许可证</a></p>
        <p>©2000-2019&nbsp;&nbsp;国美在线电子商务有限公司版权所有&nbsp;&nbsp;<a class="interDrug tw-w-ico-wrap" href="javascript:;"
                                                                target="_blank"><i class="tw-w-mark-icon"></i>京公网安备
            11010502038379号</a></p>
        <div class="gome-foot-credit">
            <a class="credit-baxx" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>经营性网站备案信息</b></a>
            <a class="credit-xypj" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>可信网站信用评价</b></a>
            <a class="credit-cxwz" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>诚信网站</b></a>
            <a class="credit-hdjc" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>朝阳网络警察</b></a>
            <a class="credit-wgdj" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>网购大家评</b></a>
            <a class="credit-report" href="javascript:;" target="_blank" rel="nofollow"><i></i><b>上海市互联网违法和不良信息举报中心</b></a>
            <!-- <a class="credit-syxy" href="https://sz.yhxy.org.cn/credit/verifyseal.php?sn=2008070300100000031&ct=df&pa=33&check=y" target="_blank" rel="nofollow"><i></i><b>炎黄鸿志商业信用认证体系</b></a> -->
        </div>
        <em class="turst-gome"></em>
    </div>
</div>
<!--foot-->
<div id="gome-bar">
    <div class="gome-aside">
        <ul>
            <li id="gome-aside-cart" class="lang">
                <b></b><a href="javascript:void(0)" class="lang"><i class="caricon"></i><b class="car_num car_num_0"><s>0</s><span
                    class="point"></span></b><span class="text">购物车</span></a>
            </li>
            <li id="gome-aside-coupon">
                <b></b><a href="javascript:void(0)"><i></i></a>
                <div><a>我的优惠券</a></div>
            </li>
            <li id="gome-aside-survey">
                <b></b><a rel="nofollow" data-code="1000043132" href="javascript:;" target="_blank"><i></i></a>
                <div><p><a rel="nofollow" data-code="1000043132" href="javascript:;" target="_blank">有奖调研</a></p></div>
            </li>
            <li id="gome-aside-service">
                <b></b><a class="live800-service" customer-entry="composite" customer-service-button-id=""><i></i></a>
                <div><p><a class="live800-service" customer-entry="composite" customer-service-button-id="">在线客服</a></p>
                </div>
            </li>
            <li id="gome-aside-backtop">
                <b></b><a href="javascript:void(0)"><i></i></a>
                <div><p><a>返回顶部</a></p></div>
            </li>
        </ul>
    </div>
    <!-- gome-aside -->
    <div id="gome-bar-border">
        <ul id="gome-bar-border-tab">
            <li class="gome-bar-btn-member" data-open="member"><b></b><i class="membericon"></i><a
                    class="gome-bar-btn-tip" rel="nofollow" href="javascript:void(0);">国美会员</a></li>
            <li class="gome-bar-btn-cart" data-open="cart" id="gome-bar-btn-cart"><b class="car_arrow"></b><i
                    class="caricon"></i><b class="car_num car_num_0"><s>0</s><span class="point"></span></b><span
                    class="text">购物车</span></li>
            <li class="gome-bar-btn-coupon" data-open="coupon"><b></b><i class="caricon"></i></li>
            <li class="gome-bar-btn-favorites" data-open="favorites" id="gome-bar-btn-favorites"><b></b><i
                    class="favorites-icon"></i><a class="gome-bar-btn-tip" href="javascript:void(0);">我的收藏</a></li>
        </ul>
    </div>
    <!-- gome-bar-border -->
    <div id="gome-bar-box">
        <div id="gome-bar-member" class="gome-bar-box-wrap">
            <h3><span class="gome-bar-close"></span></h3>
            <div id="member-body" class="gome-bar-box-body">
                <div class="gome-bar-box-loading">
                    <img src="picture/grey.gif" gome-src="//app.gomein.net.cn/gmlib/ui/loading/1.0.0/loading.gif">
                </div>
            </div>
        </div>
        <div id="gome-bar-cart" class="gome-bar-box-wrap">
            <h3><span class="gome-bar-close"></span></h3>
            <div id="cart-body" class="gome-bar-box-body">
                <div class="gome-bar-box-loading">
                    <img src="picture/grey.gif" gome-src="//app.gomein.net.cn/gmlib/ui/loading/1.0.0/loading.gif">
                </div>
            </div>
        </div>
        <div id="gome-bar-coupon" class="gome-bar-box-wrap">
            <h3><span class="gome-bar-close"></span></h3>
            <div id="coupon-body" class="gome-bar-box-body">
                <div class="gome-bar-box-loading">
                    <img src="picture/grey.gif" gome-src="//app.gomein.net.cn/gmlib/ui/loading/1.0.0/loading.gif">
                </div>
            </div>
        </div>
        <div id="gome-bar-favorites" class="gome-bar-box-wrap">
            <h3><span class="gome-bar-close"></span><span class="gome-bar-title">我的收藏</span></h3>
            <ul class="favorites-tab">
                <li class="tab-item tab-item-goods selected">商品</li>
                <li class="tab-item tab-item-shop">店铺</li>
                <li class="tab-item tab-item-brand">品牌</li>
            </ul>
            <div id="favorites-body" class="gome-bar-box-body">
                <div class="gome-bar-box-loading">
                    <img src="picture/grey.gif" gome-src="//app.gomein.net.cn/gmlib/ui/loading/1.0.0/loading.gif">
                </div>

                <div id="favorites-main-scrool" class="favorites-main">
                    <div class="main-item main-item-goods">
                    </div>
                    <div class="main-item main-item-shop">
                    </div>
                    <div class="main-item main-item-brand">
                    </div>
                </div>
            </div>
        </div>
        <!-- gome-bar-coupon -->
    </div>
    <!-- gome-bar-box -->
</div>
<!--aside-->
<script>
    var $page = {
        site: "home"
        , name: "cart"
    }
</script>
<script type="text/javascript">var dynSite = '//g.gome.com.cn', staSite = '//www.gome.com.cn',
    gomeplusDomain = '.gome.com.cn', contextPath = '/ec/homeus', cookieDomain = '.gome.com.cn',
    imgServer = '//app.gomein.net.cn/images', stageJsServer = '//js.gomein.net.cn',
    stageImageServer = '//img.gomein.net.cn', stageCssServer = '//css.gomein.net.cn',
    gomeplusCdn = '//js.meixincdn.com/m/pc/', versionData = '1908210608';</script>

<script type="text/javascript" src="js/recharge/jquery-1.8.3.min.js"></script>
<script src="js/index/201908251728gmlibseaseajs3.0.0se.js"></script>
<script type="text/javascript">
    $(function () {
        //优惠卷点击显示
        $("a#juan").click(function () {
            if($("div#juans").is(':hidden')){
                $("div#juans").show();
                $("div#juans").css("z-index","5");
            }else{
                $("div#juans").hide();
            }
        });
        //运费说明
        $("#freight").click(function () {
            if($("#money").is(':hidden')){
                $("#money").show();
            }else{
                $("#money").hide();
            }
        });
    });
</script>




</body>
</html>
